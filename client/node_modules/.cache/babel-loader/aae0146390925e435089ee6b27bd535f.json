{"ast":null,"code":"import axios from 'axios';\nimport { PRODUCT_CREATE_FAIL, PRODUCT_CREATE_REQUEST, PRODUCT_CREATE_REVIEW_FAIL, PRODUCT_CREATE_REVIEW_REQUEST, PRODUCT_CREATE_REVIEW_SUCCESS, PRODUCT_CREATE_SUCCESS, PRODUCT_DELETE_FAIL, PRODUCT_DELETE_REQUEST, PRODUCT_DELETE_SUCCESS, PRODUCT_DETAIL_FAIL, PRODUCT_DETAIL_REQUEST, PRODUCT_DETAIL_SUCCESS, PRODUCT_LIST_FAIL, PRODUCT_LIST_REQUEST, PRODUCT_LIST_SUCCESS, PRODUCT_TOP_FAIL, PRODUCT_TOP_REQUEST, PRODUCT_TOP_SUCCESS, PRODUCT_UPDATE_FAIL, PRODUCT_UPDATE_REQUEST, PRODUCT_UPDATE_SUCCESS } from './actionTypes';\nexport const listProducts = (keyword = '', pageNumber = '') => {\n  return async dispatch => {\n    try {\n      dispatch({\n        type: PRODUCT_LIST_REQUEST\n      });\n      const response = await axios.get(`/api/products?keyword=${keyword}&pageNumber=${pageNumber}`);\n      dispatch({\n        type: PRODUCT_LIST_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_LIST_FAIL,\n        error: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const listProductDetail = id => {\n  return async dispatch => {\n    try {\n      dispatch({\n        type: PRODUCT_DETAIL_REQUEST\n      });\n      const response = await axios.get(`/api/products/${id}`);\n      dispatch({\n        type: PRODUCT_DETAIL_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_DETAIL_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const deleteProduct = id => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: PRODUCT_DELETE_REQUEST\n      });\n      const config = {\n        headers: {\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`\n        }\n      };\n      await axios.delete(`/api/products/${id}`, config);\n      dispatch({\n        type: PRODUCT_DELETE_SUCCESS\n      });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_DELETE_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const createProduct = () => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: PRODUCT_CREATE_REQUEST\n      });\n      const config = {\n        headers: {\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`\n        }\n      };\n      const {\n        data\n      } = await axios.post(`/api/products`, {}, config);\n      dispatch({\n        type: PRODUCT_CREATE_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_CREATE_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const updateProduct = product => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: PRODUCT_UPDATE_REQUEST\n      });\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`\n        }\n      };\n      const {\n        data\n      } = await axios.put(`/api/products/${product._id}`, product, config);\n      dispatch({\n        type: PRODUCT_UPDATE_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_UPDATE_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const createProductReview = (productId, review) => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: PRODUCT_CREATE_REVIEW_REQUEST\n      });\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`\n        }\n      };\n      await axios.post(`/api/products/${productId}/reviews`, review, config);\n      dispatch({\n        type: PRODUCT_CREATE_REVIEW_SUCCESS\n      });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_CREATE_REVIEW_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const listTopProducts = () => {\n  return async dispatch => {\n    try {\n      dispatch({\n        type: PRODUCT_TOP_REQUEST\n      });\n      const response = await axios.get(`/api/products/top`);\n      dispatch({\n        type: PRODUCT_TOP_SUCCESS,\n        payload: response.data\n      });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_TOP_FAIL,\n        error: error.response && error.response.data.message ? error.response.data.message : error.message\n      });\n    }\n  };\n};","map":{"version":3,"sources":["/Users/kishorelaxman/Documents/GitHub/Ecommerce-Artisans/client/src/store/actions/productActions.js"],"names":["axios","PRODUCT_CREATE_FAIL","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_REVIEW_FAIL","PRODUCT_CREATE_REVIEW_REQUEST","PRODUCT_CREATE_REVIEW_SUCCESS","PRODUCT_CREATE_SUCCESS","PRODUCT_DELETE_FAIL","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DETAIL_FAIL","PRODUCT_DETAIL_REQUEST","PRODUCT_DETAIL_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_TOP_FAIL","PRODUCT_TOP_REQUEST","PRODUCT_TOP_SUCCESS","PRODUCT_UPDATE_FAIL","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","listProducts","keyword","pageNumber","dispatch","type","response","get","payload","data","error","message","listProductDetail","id","deleteProduct","getState","config","headers","Authorization","userLogin","userInfo","token","delete","createProduct","post","updateProduct","product","put","_id","createProductReview","productId","review","listTopProducts"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport {\n  PRODUCT_CREATE_FAIL,\n  PRODUCT_CREATE_REQUEST,\n  PRODUCT_CREATE_REVIEW_FAIL,\n  PRODUCT_CREATE_REVIEW_REQUEST,\n  PRODUCT_CREATE_REVIEW_SUCCESS,\n  PRODUCT_CREATE_SUCCESS,\n  PRODUCT_DELETE_FAIL,\n  PRODUCT_DELETE_REQUEST,\n  PRODUCT_DELETE_SUCCESS,\n  PRODUCT_DETAIL_FAIL,\n  PRODUCT_DETAIL_REQUEST,\n  PRODUCT_DETAIL_SUCCESS,\n  PRODUCT_LIST_FAIL,\n  PRODUCT_LIST_REQUEST,\n  PRODUCT_LIST_SUCCESS,\n  PRODUCT_TOP_FAIL,\n  PRODUCT_TOP_REQUEST,\n  PRODUCT_TOP_SUCCESS,\n  PRODUCT_UPDATE_FAIL,\n  PRODUCT_UPDATE_REQUEST,\n  PRODUCT_UPDATE_SUCCESS,\n} from './actionTypes';\n\nexport const listProducts = (keyword = '', pageNumber = '') => {\n  return async (dispatch) => {\n    try {\n      dispatch({ type: PRODUCT_LIST_REQUEST });\n      const response = await axios.get(\n        `/api/products?keyword=${keyword}&pageNumber=${pageNumber}`\n      );\n      dispatch({ type: PRODUCT_LIST_SUCCESS, payload: response.data });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_LIST_FAIL,\n        error:\n          error.response && error.response.data.message\n            ? error.response.data.message\n            : error.message,\n      });\n    }\n  };\n};\n\nexport const listProductDetail = (id) => {\n  return async (dispatch) => {\n    try {\n      dispatch({ type: PRODUCT_DETAIL_REQUEST });\n      const response = await axios.get(`/api/products/${id}`);\n      dispatch({ type: PRODUCT_DETAIL_SUCCESS, payload: response.data });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_DETAIL_FAIL,\n        payload:\n          error.response && error.response.data.message\n            ? error.response.data.message\n            : error.message,\n      });\n    }\n  };\n};\n\nexport const deleteProduct = (id) => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({ type: PRODUCT_DELETE_REQUEST });\n      const config = {\n        headers: {\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`,\n        },\n      };\n      await axios.delete(`/api/products/${id}`, config);\n\n      dispatch({ type: PRODUCT_DELETE_SUCCESS });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_DELETE_FAIL,\n        payload:\n          error.response && error.response.data.message\n            ? error.response.data.message\n            : error.message,\n      });\n    }\n  };\n};\n\nexport const createProduct = () => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({ type: PRODUCT_CREATE_REQUEST });\n      const config = {\n        headers: {\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`,\n        },\n      };\n      const { data } = await axios.post(`/api/products`, {}, config);\n\n      dispatch({ type: PRODUCT_CREATE_SUCCESS, payload: data });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_CREATE_FAIL,\n        payload:\n          error.response && error.response.data.message\n            ? error.response.data.message\n            : error.message,\n      });\n    }\n  };\n};\n\nexport const updateProduct = (product) => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({ type: PRODUCT_UPDATE_REQUEST });\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`,\n        },\n      };\n      const { data } = await axios.put(\n        `/api/products/${product._id}`,\n        product,\n        config\n      );\n\n      dispatch({ type: PRODUCT_UPDATE_SUCCESS, payload: data });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_UPDATE_FAIL,\n        payload:\n          error.response && error.response.data.message\n            ? error.response.data.message\n            : error.message,\n      });\n    }\n  };\n};\n\nexport const createProductReview = (productId, review) => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({ type: PRODUCT_CREATE_REVIEW_REQUEST });\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${getState().userLogin.userInfo.token}`,\n        },\n      };\n      await axios.post(`/api/products/${productId}/reviews`, review, config);\n\n      dispatch({ type: PRODUCT_CREATE_REVIEW_SUCCESS });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_CREATE_REVIEW_FAIL,\n        payload:\n          error.response && error.response.data.message\n            ? error.response.data.message\n            : error.message,\n      });\n    }\n  };\n};\n\nexport const listTopProducts = () => {\n  return async (dispatch) => {\n    try {\n      dispatch({ type: PRODUCT_TOP_REQUEST });\n      const response = await axios.get(`/api/products/top`);\n      dispatch({ type: PRODUCT_TOP_SUCCESS, payload: response.data });\n    } catch (error) {\n      dispatch({\n        type: PRODUCT_TOP_FAIL,\n        error:\n          error.response && error.response.data.message\n            ? error.response.data.message\n            : error.message,\n      });\n    }\n  };\n};\n"]},"metadata":{},"sourceType":"module"}